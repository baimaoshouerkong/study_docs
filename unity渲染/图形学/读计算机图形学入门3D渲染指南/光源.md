# 光源
1. *点光（point light）* 
2. *方向光（directional light）*
3. *环境光（ambient light）* 
## 简化的假设
现实里的光线十分复杂，为了方便分析我们需要简化。
首先，所有的光都是白色的，我们使用单个实数 *i* 来表征任何光， *i* 源于光的强度（intensity），这样我们可以通过改变光的颜色，来改变物体的颜色
其次我们要忽略空气。因为在现实里光线会随着距离越来越暗，这其实是空气中的粒子吸收了部分光线，这样我们的光强度也不会变了。
## 点光
点光从3D空间中的一个固定的点发射光，这个被称为光源的位置。点光会向每一个方向均匀地发射光，也就是 *全向光（omnidirectional light）* ，所以点光完全可以用位置和强度表示。生活中的例子就是灯泡。
我们定义向量 $\boldsymbol{L}$ 是点 $\boldsymbol{P}$ 到光源 $\boldsymbol{Q}$ 的方向，即 *光向量(light over)* 也就是 $\boldsymbol{P}-\boldsymbol{Q}$
##  方向光
如果点光是一点发出的光，那么方向光就类似太阳光了（就是高中地理中画得平行的光线），它的向量 $\boldsymbol{L}$ 是给定的。
## 环境光
什么是环境光？顾名思义，就是环境发出的光，就也是前面两种光的二手光，物体的反射光
# 光照
我们根据物体反射光的方式直观地将物体分为两类
1. 哑光
2. 闪亮
让我先来谈论哑光
## 漫反射（diffuse）
当一束光射到哑光物体上，光线会沿着每个方向均匀地散射回场景中，这就是漫反射，也是哑光物体看起来无光泽的原因
### 漫反射的建模
假设方向为 $\boldsymbol{L}$ 且强度为 $I$ 的光线照射到法线为 $\boldsymbol{N}$ 的表面上，它的能量分在大小为 $A$ 的表面上。
我们假设 $\boldsymbol{N}$ 与 $\boldsymbol{L}$ 的夹角为 $\alpha$ , 那么 $\beta=\frac{\pi}{2} - \alpha$
$$
\cos(\alpha) =\frac{I}{A}
$$
根据公式可得
$$
\cos(\alpha) =\frac{I}{A} =\frac{\boldsymbol{N} * \boldsymbol{L}}{\vert \boldsymbol{N} \vert \vert \boldsymbol{L} \vert}
$$
以上我们计算了一个漫反射
###  漫反射方程
所以就可以得到一点 $P$ 所有的光的强度
$$
I_P = I_A + \sum_{i=1}^n{I_i\frac{\boldsymbol{N} * \boldsymbol{L_i}}{\vert \boldsymbol{N} \vert \vert \boldsymbol{L_i} \vert}}
$$
其中 $I_A$  直接照射到的光强
### 球体的法线
球体的法线就是点 $P$ 与圆心 $C$ 的连线,所以
$$
N = \frac{P-C}{\vert \boldsymbol{N} \vert \vert \boldsymbol{L} \vert}
$$




